<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=Edge">
<link rel="icon" hrerf="data:;base64,=" />
<title>测试</title>
<style>
*{margin:0;padding:0;-webkit-user-select:none;font-family:consolas;}
body{transform-style: preserve-3d;-webkit-perspective: 1200;perspective: 1200;}
canvas{border: 1px solid orange;}
</style>
</head>
<body>
	<canvas width="600" height="600"></canvas>
</body>
</html>
<script>
window.onload = function () {
	var ca = document.querySelector("canvas"),
		pen = ca.getContext("2d");
		pen.strokeStyle = "orange";
		pen.lineWidth = 10;
		pen.lineCap = "round"

		pen.fillStyle = "orange";
		pen.fillRect(0,0,600,600);
		pen.globalCompositeOperation = "destination-out";

		ca.onmousedown = function (ev) {
			/*var startX = ev.clientX,
				startY = ev.clientY;*/
				//pen.moveTo(startX,startY);
				document.onmousemove = function (ev) {
					var endX = ev.clientX,
						endY = ev.clientY;
						//pen.clearRect(0,0,600,600);
						//pen.lineTo(endX,endY);
						//pen.stroke();
						pen.beginPath();
						pen.arc(endX,endY,10,0,Math.PI*2,false);
						pen.fill();
				}
				document.onmouseup = function () {
					this.onmousemove = null;
					this.onmouseup = null;
				}
		}

}
</script>